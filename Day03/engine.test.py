import unittest
from schematic import Schematic
from engine import Engine

input_data = """467..114..
...*......
..35..633.
......#...
617*......
.....+.58.
..592.....
......755.
...$.*....
.664.598.."""

larger_dataset_with_duplicates = """........897.......839...........897.399.............236...............................343...986...........308...............................
........*................*404......*............134.....953..508=.....................*....*..........325*..........744......392............"""

even_larger_dataset = """...............801..@.............-....*.....702....&....*............238.236.706.183..+................................842.545.............
...........202*...................906..204...*...990......212....380%..................208...................66.............................
......./........../....878............................266.......................278...............920...................144.........423.....
....494..*.....976........@.....&.......*287...553-..*.............731...................649..247*........703......@....%....817....*.......
.........856.......592...........708.404............707.......274...*........-............#.....................%.567.........*......431.761"""

gears_input = """467..114..
...*......
..35..633.
......#...
617*......
.....+.58.
..592.....
......755.
...$.*....
.664.598.."""

class TestPartNumbers(unittest.TestCase):
    def test_sum(self):
       self.assertEqual(Engine.sumOfPartNumbers(Schematic(input_data)), 4361)

    def test_larger_dataset_with_duplicates(self):
        self.assertEqual(Engine.sumOfPartNumbers(Schematic(larger_dataset_with_duplicates)), 5067)

    def test_even_larger_dataset(self):
        self.assertEqual(Engine.sumOfPartNumbers(Schematic(even_larger_dataset)), 15663)

    def test_gears(self):
        self.assertEqual(Engine.sumOfGears(Schematic(gears_input)), 467835)

if __name__ == '__main__':
    unittest.main()